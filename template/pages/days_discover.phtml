<?
$this->title = "Discover days";
$this->menu = 'discover';
?>
{{wrap with="layout.phtml"}}
  {{into slot="css_include"}}
    <link href="/styles/vendor/bootstrap-select.min.css" rel="stylesheet">
  {{/into}}
  {{into slot="js_include"}}
    <script src="/lib/vendor/bootstrap-select.min.js"></script>
    <script src="/lib/InfiniteScroll.js"></script>
  {{/into}}
  {{into slot="js_ready"}}
    // Nice boostrap select's
    $('.selectpicker').selectpicker();

    // Init paginator
    var template_list = Template.prepareTemplate($('#days_list_elements_template'));
    $('.days').infiniteScroll({
      request: API.get('days/interesting'),
      success: function(response) {
        var days = Template.compileElement(template_list, {
          days: response.data.result
        });

        days = $($.trim(days));

        $(this).find('.infiniteScroll_button_container').before(days);
        $(this).masonry('appended', days);
      }
    });
  {{/into}}
  {{into slot="content"}}
    <div class="text-center">
      I want to see a
      <select class="selectpicker">
        <option>working day</option>
        <option>day off</option>
        <option>holiday</option>
        <option>trip</option>
      </select>
      of
      <select class="selectpicker">
        <option>designer</option>
        <option>business analyst</option>
        <option>artist</option>
        <option>courier</option>
        <option>plumber</option>
      </select>
      from
      <select class="selectpicker">
        <option>New-York</option>
        <option>Paris</option>
        <option>Moscow</option>
        <option>Tokio</option>
        <option>Shanghai</option>
      </select>
    </div>
  	{{apply template="days_list" days="$#days"/}}
  {{/into}}
{{/wrap}}
